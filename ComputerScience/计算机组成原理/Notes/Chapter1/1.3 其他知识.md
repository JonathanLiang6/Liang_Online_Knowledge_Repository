### 1.3.1 功耗墙

效率与散热的平衡：达到最大性能

功耗 = 负载电容×电压^2^×开关频率

功耗墙指无法更好散热/无法提高电压

### 1.3.2 谬误与陷阱（第一章）

> **陷阱 1 纠正：** 改进计算机的某个方面不可使整体性能成比例地提高

#### 改进程序后性能的提升：

- **Amdahl 定律**：改进后程序执行时间 = $\frac{受改进影响的执行时间}{改进量}$ + 不受影响的执行时间

> **陷阱 2 纠正：** 不能只用性能公式的一个子集去度量性能

#### 例：MIPS（每秒百万条指令数）= $\frac{指令数}{执行时间×10^6}$ = $\frac{指令数}{\frac{指令数×CPI}{时钟频率}×10^6}$ = $\frac{时钟频率}{CPI×10^6}$

若用上述指标作为度量性能的指标存在问题：
①没有考虑指令的能力，即无法比较不同指令系统的计算机；
②同一计算机上不同程序的 MIPS，CPI 不同；
③若有一新程序指令数多，每条指令执行速度快，则 MIPS 可能独立于性能发生变化。

> **谬误纠正：** 低利用率的计算机功耗不一定降低

服务器负载差异大且消耗了很大比例峰值功耗，需要对硬件重新设计以达到“按能量比例计算”

### 小结

#### 可靠的测量并报告性能的方法为：

用真实程序的执行时间作为尺度：$\frac{秒数}{程序}$ = $\frac{指令数}{程序}$ × $\frac{时钟周期数}{指令数}$ × $\frac{秒数}{时钟周期数}$

### [[../../Contents/第一章 计算机抽象及相关技术|回到目录]]