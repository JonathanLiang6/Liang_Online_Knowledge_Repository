### 3.3.1 浮点数概念简介
浮点数用于非整数的表示，包括极小数和极大数。表示方式与科学计数法(二进制)相似 :
$±1.xxxxxx_2 * 2^{yyyyy}$
C 语言中的 float 类型（32 位）和 double 类型（64 位）

### 3.2.2 IEEE 浮点格式
| 符号位           | 指数                                               | 尾数（有效数）                                       |
| ------------- | ------------------------------------------------ | --------------------------------------------- |
| 1 位           | 单精度 8 位<br>双精度 11 位                              | 单精度 23 位<br/>双精度 52 位                         |
| 0 非负数<br>1 负数 | 指数=实际的指数值+偏移值<br/>单精度中偏移值为 127<br/>双精度中偏移值为 1023 | 规格化表示的小数的尾数的绝对值∈[1.0，2.0]<br/>实际的小数 = 尾数+“1.” |
#### 3.2.2.1 单精度浮点数的表示范围
**指数编码中 0000_0000 和 1111_1111 保留另作他用**
**最小值：**
指数编码：0000_0001 $\Rightarrow$ 实际的指数为 1-127=-126
尾数编码：000…00(23 位) $\Rightarrow$ 实际的小数= 1.0
组合得到最小值为 $±1.0*2 ^{-126}$ ≈ $±1.2*10^{-38}$
**最大值：**
指数编码：1111_1110 $\Rightarrow$ 实际的指数为 254-127=127
尾数编码：111…11(23 位) $\Rightarrow$ 实际的小数≈ 2.0
组合得到最大值为 $±2.0*2^{127}$ ≈ $±3.4*10^{38}$
#### 3.2.2.2 双精度浮点数的表示范围
**指数编码中 000……00 和 111……11 保留另作他用**
**最小值：**
指数编码：000_0000_0001 $\Rightarrow$ 实际的指数为 1-1023=-1022
尾数编码：000…00 (52 位) $\Rightarrow$ 实际的小数= 1.0
组合得到最小值为 $±1.0*2^{-1022}$ ≈ $±2.2*10^{-308}$
**最大值：**
指数编码：111_1111_1110 $\Rightarrow$ 实际的指数为 2046-1023=1023
尾数编码：111…11 (52 位) $\Rightarrow$ 实际的小数≈ 2.0
组合得到最大值为 $±2.0*2^{1023}$ ≈ $±1.8*10^{308}$
#### 3.2.2.3 浮点数的精度
相对精度计算：
$2^{-23/-52}=10^{k_1/k_2}$
$k_1=23*log_{10}2≈6$：单精度约为 6 位十进制小数精度
$k_2=52*log_{10}2≈16$：双精度约为 16 位十进制小数精度
### 3.2.3 浮点数与小数互化
#### 3.2.3.1 将小数转换为浮点数
**Step1：** 提取符号位：正 0 负 1
**Step2：** 整数小数分别进行处理
- 整数：÷2 取余，直到余数<2
- 小数：×2 取整数部分，直到没有小数部分
**Step3：** 组合整数与小数，并写成科学计数法的形式：$±1.xxxxxx_2 * 2^{yyyyy}$
**Step4：** 计算指数和尾数
- 指数=yyyyy+偏移量
- 尾数=xxxxx，后面补 0 至位数够
#### 3.2.3.2 将浮点数转换为小数
**Step1：** 分隔：符号位-指数-尾数
**Step2：** 分别进行转化
- 指数：转换为十进制，减去偏移量
- 尾数：按照位值原理转化为十进制（尾数第 i 位对应位值为 $2^{-i}$）
**Step3：** $符号位×(转化后尾数+1)×2^{转化后指数}$ =小数结果
### 3.2.4 其他数
#### 3.2.4.1 非规格化数
**与规格化数的区别：**
指数编码=000…00 $\Rightarrow$ 但是，指数=1-偏移量
小数=0+小数编码
**最小的非规格化数比最小的规格化数小**：$1.0_2*2^{-126}$ ＜ $1.0_2*^{-149}$
**表示 0 的方法：**
1. 方法 1：使用规格数进行表示
2. 方法 2：使用非规格数形式进行表示
#### 3.2.4.2 无穷与 NaN
**无穷：** 指数编码 111…11，小数编码 000…00  正负无穷取决于符号位
**NaN：** 指数编码 111…11，小数编码≠000…00 表示非法或未定义的结果
### [[../../Contents/第三章 计算机的算术运算|回到目录]]