### 6.4.1 组成结构
![[../../CN_Picture/Pasted image 20251127235135.png]]
### 6.4.2 各个协议
#### 6.4.2.1 简单邮件传送协议 SMTP
- SMTP 规定了在两个相互通信的 **SMTP 进程**之间应如何交换信息。
- **SMTP 客户**：负责发送邮件的 SMTP 进程
- **SMTP 服务器**：负责接收邮件的 SMTP 进程
- SMTP 规定了：
    - **14 条命令**（由几个字母组成）；
    - **21 种应答信息**（格式为三位数字代码 + 简单文字说明）。    
	- 使用 **TCP 连接**，**端口号为 25**；
	- 采用 **客户端/服务器（C/S）模式**。
- SMTP 通信分为三个阶段：
    1. 连接建立 
		![[../../CN_Picture/Pasted image 20251127235841.png]]
		- 建立的是 TCP 链接
	    - HELLO 命令附带发送方的主机名
    2. 邮件传送：A 发送 B 接收
	  ![[../../CN_Picture/Pasted image 20251128000446.png]]
    3. 连接释放
	    - 邮件发送完成后，SMTP 客户发送 QUIT 命令；SMTP 服务器返回 221
	    - 221：同意释放 TCP 连接
- **SMTP 缺点**
	1. **不能传送可执行文件或其他二进制对象**；
	2. **仅限于传送 7 位 ASCII 码**，不能传送非英语国家的文字；
	3. **服务器会拒绝超过一定长度的邮件**。
#### 6.4.2.2 通用因特网邮件扩充 MIME
![[../../CN_Picture/Pasted image 20251128001433.png]]
使得电子邮件系统可以支持声音/图像/视频/多国家语言
#### 6.4.2.3 邮局协议 POP3
- TCP 连接；端口号 110；C/S 协议
 ![[../../CN_Picture/Pasted image 20251128001941.png]]
 - POP3 工作方式
	 - 下载并保留在服务器
	 - 下载并删除
#### 6.4.2.3 网际报文存取协议 IMAP
**IMAP 协议特点：**
- **比 POP 协议复杂**；
- 当用户 PC 上的 IMAP 客户端打开 IMAP 服务器邮箱时，**用户仅能看到邮件首部**；
- **只有用户选择打开某个邮件时，该邮件才会被上传到用户的计算机上**；
- **支持跨设备访问**：用户可在不同地点、使用不同计算机，随时上网阅读和处理邮件；
- **支持部分读取**：允许只读取邮件中的某一部分（例如先查看正文，等有 WiFi 时再下载附件）
- 图同上图
#### 6.4.2.4 基于万维网的电子邮件
方便快捷
发送接收方：HTTP 协议，其他与上图一样
### [[../../CN_Contents/第六章 应用层|回到目录]] 