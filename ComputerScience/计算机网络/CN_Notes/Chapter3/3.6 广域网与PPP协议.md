### 3.6.1 PPP 协议特点
1. 简单——首要要求  
2. 封装成帧——必须规定特殊字符作为帧定界符  
3. 透明性——保证数据传输透明  
4. 多种网络层协议——同一条物理链路上支持多种网络层协议  
5. 多种类型链路——可在多种链路运行  
6. 差错检测——丢弃差错帧  
7. 检测连接状态——自动检测链路是否正常  
8. 最大传送单元 MTU——为每种链路设置默认 MTU  
9. 网络层地址协商——协商/配置彼此网络层地址  
10. 数据压缩协商——协商使用压缩算法
### 3.6.2 PPP 协议组成
- 将 IP 数据报封装到串行链路的方法  
- 链路控制协议 LCP（Link Control Protocol）  
- 网络控制协议 NCP（Network Control Protocol）
### 3.6.3 PPP 帧格式（面向字节）
![[../../CN_Picture/Pasted image 20251206211707.png]]

| 字段     | 长度 (字节) | 含义                                            |
| ------ | ------- | --------------------------------------------- |
| F (标志) | 1       | 0x7E，帧定界，连续两帧间只需一个标志                          |
| A (地址) | 1       | 0xFF，实际不起作用                                   |
| C (控制) | 1       | 0x03                                          |
| 协议     | 2       | 0x0021=IP 数据报；0x8021=NCP；0xC021=LCP；0xC023=鉴别 |
| 信息     | ≤1500   | 承载 IP 数据报或其他协议数据                              |
| FCS    | 2       | 帧检验序列                                         |
| F (标志) | 1       | 0x7E                                          |
### 3.6.4 透明传输
- 异步链路：字节填充——flag 字符 0x7E 转义为 0x7D 0x5E；0x7D 转义为 0x7D 0x5D  
- ![[../../CN_Picture/Pasted image 20251206211829.png]]
- 同步链路：零比特填充——发送端遇连续 5 个 1 插入 0，接收端删除该 0
- ![[../../CN_Picture/Pasted image 20251206211840.png]]
### 3.6.5 PPP 链路状态转换
链路静止 → 物理层连接建立 → 链路建立 (LCP 配置协商) → 鉴别 (可选) → 网络层协议 (NCP 配置协商、分配临时 IP) → 链路打开 (数据传输) → 链路终止 (LCP 释放) → 链路静止
- 鉴别失败或 LCP 协商失败直接返回链路静止  
- 通信完毕：NCP 先释放网络层连接并收回 IP 地址，随后 LCP 释放数据链路层连接，最后释放物理层连接