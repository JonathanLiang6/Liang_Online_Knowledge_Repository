这里是一只可爱的小狗：![[../../CN_Picture/Pasted image 20251120211757.png]]
### 3.1.1 数据链路层的功能
#### 3.1.1.1 帧定界  
如何让接收方能够确定帧的界限  
- 封装成帧（组帧）：接收方链路层要能从收到的帧内恢复原始 SDU，让网络层“感受不到”  
- 透明传输：分组封装成帧的过程  
#### 3.1.1.1.2 差错控制  
发现并解决一个帧内部的“位错”  

| 解决方案 | 描述                  | 编码要求     |
| ---- | ------------------- | -------- |
| 方案一  | 接收方发现比特错后丢弃帧，发送方重传帧 | 仅需采用检错编码 |
| 方案二  | 由接收方发现并纠正比特错误       | 需采用纠错编码  |
#### 3.1.1.3 可靠传输  
发现并解决“帧错”  
- 帧丢失：例如发送帧①②③④，收到帧①②④  
- 帧重复：例如发送帧①②③④，收到帧①②③③④  
- 帧失序：例如发送帧①②③④，收到帧①③②④  
#### 3.1.1.4 流量控制  
控制发送方发送帧的速率别太快，让接收方“来得及”接收  
#### 3.1.1.5 介质访问控制  
- 广播信道**需要**实现此功能：广播信道在逻辑上是总线型拓扑，多个结点需争抢传输介质的使用权  
- 点对点信道通常**不需要**实现此功能：点对点信道通常意味着两个结点之间有专属的传输介质，不用争抢  
### 3.1.2 组帧
组帧主要问题：
**帧定界**：如何让接收方能够确定帧的界限
**透明传输**：接收方要能够去除“帧定界”的附加信息，把帧“恢复原貌”
#### 3.1.2.1 字符计数法  
- 在每个帧开头，用一个定长计数字段（长度为 1B=8bit）表示帧长（0~255）  
  - **帧长** = 计数字段长度（1） + 帧的数据部分长度（实际长度）  
- 最大缺点：任何一个计数字段出错，都会导致**后续**所有帧无法定界  
#### 3.1.2.2 字节填充法（特殊字符法）  
| 特殊字符 | 作用    | ASCII     | 16 进制 |
| ---- | ----- | --------- | ----- |
| SOH  | 标记帧开头 | 0000-0001 | 0x01H |
| EOT  | 标记帧结尾 | 0000-0100 | 0x04H |
| ESC  | 转义字符  | 0001-1011 | 0x1BH |
- 若帧的数据部分出现“特殊字符”，发送方在其前一个字节填充 ESC；接收方做逆处理（即保留后一个字节）  
#### 3.1.2.3 零比特填充法  
- 标记比特串：$0111-1110$ 表示帧开始与结尾  
- 发送方处理：每当数据部分出现连续 5 个 1，立即填充 1 个 0  
- 接收方处理：**逆处理**，即每当遇到连续 5 个 1，删除其后 0  
	- 典型协议：HDLC、PPP  
#### 3.1.2.4 违规编码法  
- 依赖**物理层配合**，使用“违规信号”标记帧的开始与结束  
	- 例：曼彻斯特编码中，用“中间不跳变”作为违规信号  

### [[../../CN_Contents/第三章 数据链路层|回到目录]]