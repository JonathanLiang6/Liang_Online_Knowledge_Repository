### 8.2.1 8086 CPU中断类型
**中断系统概述**：8086 CPU中断系统可处理256种中断，每种中断对应唯一中断类型号（0~255），CPU通过中断类型号识别中断源。
![[../../MCU_Picture/Pasted image 20250526202121.png]]
#### 8.2.1.1外部中断（硬件中断）
由外部设备通过硬件请求的方式所产生的中断
  1.**不可屏蔽中断NMI**：
由外设通过非屏蔽中断请求信号NMI触发，CPU执行完当前指令后立即无条件响应，中断类型号固定为2
主要用于处理电源掉电、存储器读写错误等紧急故障。
  2.**可屏蔽中断INTR**：
通过8086 CPU的INTR引脚接收高电平信号，响应受CPU中断允许位IF控制（IF=1时响应，IF=0时禁止）
绝大部分外部设备中断请求属于此类。
#### 8.2.1.2**内部中断（软件中断）**：
1.**除法错中断**
除法运算中除数为零或商超出寄存器表示范围时触发，中断类型号为0。
2.**单步中断**
当CPU标志寄存器Flags中的单步标志TF位为1时，每条指令执行后触发中断，实现程序单步执行，中断类型号为1，用于程序调试。
3.**溢出中断**
当Flags中的溢出标志位OF=1且执行INTO指令时产生，中断类型号为4，需同时满足OF位为1和执行INTO指令两个条件，用于监控运算溢出。
4.**断点中断**
通过指令INT 3H设置断点，用于程序调试，中断类型号固定。
5.**中断指令INTn**
用户自定义软中断指令，n为中断类型号（0~255）。
### 8.2.2 8086 CPU响应中断的过程
![[../../MCU_Picture/Pasted image 20250526205501.png]]**中断响应流程**：8086中断响应流程图如上
**中断源优先级顺序**：
内部中断（单步中断除外）优先级高于外部中断。
外部中断中，不可屏蔽中断NMI优先级高于可屏蔽中断INTR。
单步中断优先级最低。
在中断响应过程中，CPU仍能响应NMI和单步中断。
![[../../MCU_Picture/Pasted image 20250526205735.png]]
### 8.2.3 中断向量及中断向量表
- **中断类型号**：每个中断源的唯一编号n（0~255）。
- **中断向量**：中断服务程序的入口地址，由段地址CS和偏移地址IP组成，共4字节。
- **中断向量表**：
	存放中断向量的存储区，位于内存最低端（00000H~003FFH），占用1KB空间。
	256个中断向量按中断类型号从小到大顺序存放，类型号n对应的中断向量地址为4n，其中4n和4n+1存放偏移地址，4n+2和4n+3存放段地址。
- **专用中断向量分布**：
	类型号0~4的专用中断向量分别存放在00H、04H、08H、0CH和10H开始的4个连续单元中，IP在前，CS在后。
	将中断类型号 n 乘以 4 就能找到规定类型的中断向量
![[../../MCU_Picture/Pasted image 20250526212847.png]]
### [[../../MCU_Contents/第8章 中断技术|回到目录]]