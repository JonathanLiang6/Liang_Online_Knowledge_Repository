### 7.1.1 I/O 接口及接口技术的概念
- **接口**：指 CPU 和存储器、外部设备或者两种外部设备之间，或者两种机器之间通过系统总线进行连接的逻辑部件（或电路），是 CPU 与外界进行信息交换的中转站。
- **接口技术**：专门研究 CPU 与外部设备之间的数据传送方式、接口电路工作原理和使用方法的一门技术，采用硬件与软件相结合的方法，研究 CPU 如何与外部设备进行最佳耦合，以便在 CPU 与外部设备之间实现高效、可靠的信息交换。
- **CPU 与外部设备之间交换的信息类型**：![[../../MCU_Picture/Pasted image 20250509232145.png]]
    - **数据信息**：是 CPU 与外部设备之间交换最多的一类信息，微机中的数据通常为 8 位、16 位或 32 位。
    - **状态信息**：反映当前外部设备的工作状态，是 CPU 与外部设备之间进行信息交换时的联络信号。
    - **控制信息**：是 CPU 对外部设备发出的控制命令，用于设置外部设备的工作方式等。
### 7.1.2 I/O 接口的主要功能
1. **地址译码或设备选择功能**：微机系统中多个外部设备同时与主机相连，CPU 同一时刻只能与一个外部设备传送数据。I/O 接口电路通过地址译码选择相应设备，只有被选中的设备才能与 CPU 进行数据交换或通信。
2. **数据缓冲功能**：解决 CPU 与外部设备间的速度不匹配等问题。接口电路中一般设有数据寄存器或锁存器来缓冲数据信息，同时还提供 “准备好”、“忙”、“闲” 等状态信号。
3. **输入 / 输出功能**：外部设备通过 I/O 接口电路实现与 CPU 之间的信息交换，CPU 通过向 I/O 接口写入命令控制其工作方式，通过读入命令可以随时监测、管理 I/O 接口和外部设备的工作状态。
4. **信息转换功能**：外部设备所需信息格式往往与 CPU 的不一致，需要接口电路进行相应的信息格式变换，如正负逻辑关系转换、时序配合上的转换、电平匹配转换、串 - 并转换等。
### 7.1.3 I/O 接口的基本结构与分类
1. **I/O 接口的基本结构**：由端口寄存器和控制逻辑两大部分组成。
![[../../MCU_Picture/Pasted image 20250509232230.png]]
	- **端口寄存器**：
        - **数据缓冲寄存器**：分为输入缓冲寄存器和输出缓冲寄存器，在高速 CPU 与低速外部设备之间起协调、缓冲作用。
        - **控制寄存器**：只能写不能读，存放 CPU 向外部设备发送的控制命令和工作方式命令字等。
        - **状态寄存器**：只能读而不能写，存放外部设备当前的工作状态信息，供 CPU 查询。
    - **控制逻辑电路**：
        - **数据总线缓冲器**：连接接口芯片内部的数据总线与系统总线。
        - **地址译码**：系统地址总线高位经片外的地址译码器译码后用来选择接口芯片，低位地址线在片内译码后选择接口芯片内部相应的端口寄存器，使 CPU 能够正确无误地与指定的外部设备完成相应的 I/O 操作。
        - **内部控制逻辑**：接收来自系统的控制输入，产生接口电路内部的控制信号，实现系统控制总线与内部控制信号之间的转换。
        - **联络控制逻辑**：接收来自 CPU 的有关控制信号，生成给外部设备的准备好信号和相应状态；接收外部设备的选通信号，产生相应状态标志和中断请求信号。
2. **接口分类**：I/O 接口电路从不同角度分为 4 种：
    - **按数据传送方式**：分为并行接口和串行接口。
    - **按功能选择的灵活性**：分为可编程接口和不可编程接口。
    - **按通用性**：分为通用接口和专用接口。
    - **按数据控制方式**：分为程序型接口和 DMA 型接口。
目前的 I/O 接口电路大多采用大规模、超大规模集成电路，并向智能化、系列化和一体化方向发展。
### [[../../MCU_Contents/第7章 输入输出技术|回到目录]]