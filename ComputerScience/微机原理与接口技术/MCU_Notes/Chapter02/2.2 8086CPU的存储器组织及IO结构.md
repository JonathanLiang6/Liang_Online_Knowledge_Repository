### 2.2.1 **存储单元的地址和内容**
#### **存储单元的地址**
**物理地址**是每个存储单元的唯一地址
空间呈线性增长，从 0 开始编号，用无符号二进制数表示，书写为十六进制数
8086 的内存**以字节编址**：
每个内存单元地址唯一，存放一个字节。1 个字占据两个相邻的内存单元，低字节放在低地址单元，高字节放在高地址单元，字的地址由其低地址来表示，双字类似。同一个内存地址，可根据存取的数据类型看作字节、字或双字单元的地址。
#### **存储单元的内容**：存储单元中所存放的信息。
在指令中，若 X 表示某单元的地址，则 [X] 表示 X 单元的内容，且可嵌套。
**存储器特性**：取之不尽，新信息存入覆盖原有信息。
### 2.2.2 **存储器的分段与物理地址的形成**
	8086/8088 率先打破微处理器只能访问 64KB 存储空间的限制，可寻址 1MB
#### **存储器的分段**
8086 CPU 有 20 根地址线、16 根数据线，内部寄存器为 16 位，存放地址的寄存器是 16 位的，只可表示 16 位的地址。为寻 1MB 地址空间进行分段管理。
**分段方法**：把 1MB 内存空间划分成若干逻辑段，段的起始地址必须是 16 的倍数（最低 4 位二进制全为 0），每个段最大为 64KB。
逻辑段之间可以重叠、连续或不连（段起始地址的计算和分配由操作系统完成）段地址存入 CS、DS、SS、ES 段寄存器中，段地址表示段的起始地址，形式为 xxxx0H，存入寄存器时省略 0。
#### 逻辑地址与物理地址
存储器分段后，内存访问使用**逻辑地址**和**物理地址**。
**逻辑地址**是程序设计时使用的地址，表示为：$$\text{段地址：偏移地址（均为16位）}$$ “段地址” 由段寄存器（CS、DS、SS、ES）提供，“偏移地址” 由 BX、BP、SP、SI、DI、IP 等寄存器或其组合提供（SP 与 IP 不供用户编程使用）。
偏移地址（段内偏移或有效地址或偏移量）：所访问的存储单元距段的起始地址之间的字节距离
**物理地址**是数据在存储器中实际存放的地址，8086 CPU 存储空间为 $2^{20}=1MB$，地址范围 00000H 到 FFFFFH。
同一个物理地址可对应多个逻辑地址，逻辑地址可转换为对应物理地址：
$$物理地址 = 段地值\times16 + 偏移地址$$
![[../../MCU_Picture/Pasted image 20250507204917.png]]
#### **段寄存器的引用**
4 个段寄存器（CS、DS、ES、SS）可同时访问 4 个不同含义的段。CS:IP 用于取下次要执行的指令；
SS: SP 用于访问栈顶单元；
SS: BP 可访问整个堆栈；
DS 和 ES 在存取操作数时，与一个偏移地址合并得到存储单元的物理地址，偏移地址由指令寻址方式决定（具体数值、符号地址和指针寄存器的值等之一）![[../../MCU_Picture/Pasted image 20250507205037.png]]
### 2.2.3 8086 CPU 的 I/O 结构
8086 CPU 用地址总线的低 16 位 $A_{15}\sim A_0$ 寻址端口地址，可访问的 I/O 端口地址有 $2^{16} = 64K$ 个，地址范围为 0000H ~ FFFFH，但实际上只使用了 $A_9 \sim A_0$ 共 10 条地址线作为 I/O 端口的寻址线，故最多可寻址 1024 个端口地址，地址范围为 0000H ~ 03FFH。
### [[../../MCU_Contents/第2章 微处理器|回到目录]]