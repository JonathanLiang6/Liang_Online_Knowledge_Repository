### 4.1.1 汇编语言基本概念
- **机器语言**：能够直接控制计算机完成指定动作的语言。
- **汇编语言**：一种用符号书写的、基本操作与机器指令相对应，并遵循一定语法规则的计算机语言。
- **汇编源程序**：用汇编语言提供的指令和伪指令编写的程序。
- **汇编**：把汇编语言源程序翻译成机器语言程序的过程。
- **汇编程序**：将汇编源程序翻译成目标程序的语言加工程序。
- **链接程序**：把所需的库文件或其它目标文件链接到一起形成可执行文件的程序。
### 4.1.2 汇编语言源程序结构
- 完整的汇编语言源程序由段组成，包括代码段、数据段、附加段或堆栈段。
- 一个源程序必须包含一个代码段，并指示程序执行的起始点（开始标号），且只有一个起始点，数据段、堆栈段和附加段则根据实际需求确定是否使用。
- 每个段由若干语句行构成，语句行是汇编编程的基础。指令必须位于代码段内，伪指令可根据需要位于任意段。
- 段以 “SEGMENT” 开始，以 “ENDS” 结束，由用户自定义。
### 4.1.3 汇编语言语句类型及格式
#### 汇编语言的语句类型
- **指令性语句（指令）**：使 CPU 产生动作，在程序执行时才处理的语句，即第 3 章学习的处理器指令。
- **指示性语句（伪指令）**：不使 CPU 产生动作，在程序执行前由汇编程序处理的说明性语句，如数据说明、变量定义等。
- **宏指令**
#### 汇编语言语句的格式
- **指令的格式**：[标号：]　操作码 　操作数　　[；注释]
- **伪指令的格式**：[名字] 伪指令 操作数 [；注释]
- **共同点**：每一语句行都由 4 部分组成，各部分之间至少要用一个空格作为间隔。
- **不同点**：在形式上，指令语句中的标号带冒号，可用于转向；伪指令中的名字不带冒号（与指令格式不同）。在本质上，指令汇编时能形成对应的机器码，伪指令则主要用于指导汇编程序工作，不产生机器码。
### 4.1.4 数据项
#### 常量
- 在程序执行过程中值不发生变化的量，是一个立即数，包括数值常量、字符常量、符号常量。
**数值常量**![[../../MCU_Picture/Pasted image 20250509213535.png]]
**字符型常量**是用引号引起来的可显示的 ASCII 码字符（字符串）；
**符号常量**是为经常使用的数值常量定义的名字，需用 EQU 或 “=” 定义后使用 。
#### **变量**
操作数中第一个数据的偏移地址，在程序中作为存储器操作数使用，变量名由用户定义，一般在数据段中定义。
变量具有**三种属性**：
段值（变量定义所在段的段地址）
偏移量（变量所指单元地址与段起始地址之间的位移量）
类型（字节、字和双字等）
**注**：每一个变量定义后都具有此三种属性，设置变量名是为了方便存取它指示的存储单元。
#### **标号**
指令的偏移地址。
在汇编源程序中，只有在需要**转向一条指令**时，才为该指令设置标号，以便在转移类指令（含子程序调用指令）中直接引用。
**标号具有三种属性**：
段值（所在段的段地址，总是在 CS 段寄存器中）
偏移量（与变量相同，所在段的段内偏移地址）
类型（分 NEAR 和 FAR 两种，NEAR 表示标号所在的指令与转移指令在同一段内，只需改变 IP，可省略；FAR 表示不在同一段内）
### 4.1.5 表达式与运算符
#### **表达式**
由运算对象和运算符组成的合法式子，分为数值表达式和地址表达式两种。汇编时按一定的优先规则对表达式进行计算。
- **数值表达式**：运算结果是一个数据，只有大小，没有属性。
如：MOV DX,(6_A - B)/2 中，(6_A - B)/2 是一个数值表达式。
- **地址表达式**：由运算符将常量、变量、标号或寄存器的内容连接而成，其值表示存储单元的偏移地址。
当这个地址中存放数据时，称为变量；当存放指令时，则称为标号。
**特点**：变量和标号是最简单的地址表达式；
偏移地址在汇编时由汇编程序计算；
同段内两个地址的差值表示它们之间的距离（字节数）；
两个地址表达式相加、相乘或相除无意义，也不能跨段，常用 “地址 ± 数值常量 ” 形式，运算结果为地址。
#### **运算符**
![[../../MCU_Picture/Pasted image 20250509214651.png]]
### [[../../MCU_Contents/第4章 汇编语言程序设计|回到目录]]